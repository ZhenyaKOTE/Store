@Scripts.Render("~/bundles/jquery")

@model IEnumerable<Store.Models.CheckBoxModel>
@using Store.Models;
@using Newtonsoft.Json;

<script>
    function GetFilters(Id, Url, Models) {
        let u = Url;
        $(function () {
            $.ajax
                ({
                    url: u,
                    type: "GET",
                    data: {Message: Models },
                    success: function (msg) {
                        console.log("Okey");
                        $('#' + Id).replaceWith(msg);
                    }

                });
        });
    }
</script>
<body>

    <form>
        @foreach (CheckBoxModel cbm in Model)
        {
            <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input" id="@cbm.Id">
                <label class="custom-control-label" for="@cbm.Id">@cbm.Value</label>
            </div>
        }

        <input type="button" value="Обновить" onclick="GetFilters('_Filter', '@Url.Content("~/Store/GetFilters")', '@Model' )" />
    </form>

</body>
